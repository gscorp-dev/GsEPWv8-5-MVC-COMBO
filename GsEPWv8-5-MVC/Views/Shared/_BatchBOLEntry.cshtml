@model GsEPWv8_5_MVC.Model.OBSRLoadInquiryModel
@{
    var SRCount = Model.ListOBGetSRSummary.Count;
    var l_int_inv_amt = string.Empty;
    int l_int_tot_ctns = 0;
    decimal l_dec_tot_cube = 0;
    decimal l_dec_tot_wgt = 0;
}


@if (Model.single_sr == "Y")
{
    for (int j = 0; j < Model.ListOBGetSRSummary.Count(); j++)
    {
        var l_int_ctns = (Model.ListOBGetSRSummary[j].tot_ctns);
        if (l_int_ctns > 0)
        {
            l_int_tot_ctns = l_int_tot_ctns + l_int_ctns;
        }
        var l_dec_cube = (Model.ListOBGetSRSummary[j].tot_cube);
        if (l_dec_cube > 0)
        {
            l_dec_tot_cube = l_dec_tot_cube + l_dec_cube;
        }
        var l_dec_weight = (Model.ListOBGetSRSummary[j].tot_weight);

        if (l_dec_weight > 0)
        {
            l_dec_tot_wgt = l_dec_tot_wgt + l_dec_weight;
        }

    }

    Model.tot_ctns = l_int_tot_ctns;
    Model.tot_cube = l_dec_tot_cube;
    Model.tot_weight = l_dec_tot_wgt;
}

@Html.HiddenFor(model => model.single_sr, new { @id = "le_single_sr" })
@Html.HiddenFor(model => model.print_summary, new { @id = "le_print_summary" })

<link href="~/Scripts/DateTimePicker/jquery.datetimepicker.css" rel="stylesheet" />
<link href="~/Scripts/Style/CommonStyleSheet.css" rel="stylesheet" />
<link rel="stylesheet" href="~/plugins/datatables/dataTables.bootstrap.css">
<link href="~/Scripts/sweetalert.css" rel="stylesheet" />
<script src="~/Scripts/DateTimePicker/jquery.datetimepicker.full.min.js"></script>
<script src="~/plugins/datatables/jquery.dataTables.min.js"></script>
<script src="~/plugins/datatables/dataTables.bootstrap.min.js"></script>

<style type="text/css">
    .Ratecontainer {
        max-width: 256%;
        margin-left: auto;
        margin-right: auto;
        padding: 1em;
    }

    .ui-state-active,
    .ui-widget-content .ui-state-active,
    .ui-widget-header .ui-state-active,
    a.ui-button:active,
    .ui-button:active,
    .ui-button.ui-state-active:hover {
        border: 1px solid #f39c12;
        background: #f39c12;
        font-weight: normal;
        color: #ffffff;
    }


    legend {
        display: block;
        width: 100%;
        padding: 0;
        margin-bottom: 23px;
        font-size: 14px;
        line-height: inherit;
        color: #e81994;
        border: 0;
        font-weight: bold;
    }

    fieldset {
        /* margin: 8px; */
        border: 1px solid silver;
        padding: 8px;
        border-radius: 4px;
        width: 100%;
    }
</style>
@Html.Hidden("SRCount", SRCount)
<center>

    <div class="modal-header" style="width:100%;">
        <div id="ajaxLoadingLoadEntry" style="display:none;"><img src="~/Images/ajax-loader.gif" /></div>
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
        <h4 class="modal-title" id="myModalLabel" style="color:white;font-weight:800;">Batch BOL Entry</h4>
        <button type="button" id="btnLoadEntryClose" class="btn-Close" style="float:right;margin-top: -18px;margin-right: 29px;">Close</button>
    </div>
    <div class="box-body">
        <div class="box-header">
            <fieldset>
                <legend style="text-align:left;">SR Inquiry</legend>
                <div class="row">
                    <div class="col-xs-12">
                        <div class="col-xs-1" style="text-align: right; font-size:10px;width: 12.5%;">
                            <label><b class="Lblmanual">Company</b></label>
                        </div>
                        <div class="col-xs-2" style="padding-left: 0%; width: 12.5%;">
                            @Html.DropDownListFor(model => model.cmp_id, new SelectList(Model.ListCompanyPickDtl, "cmp_id", "cmp_name"), new { @id = "le_cmp_id", @style = "width:100%;", @class = "form-control txtlbl" })
                        </div>
                        <div class="col-xs-1" style="text-align: right; margin-top: 6px; font-size:10px;width: 12.5%">
                            <label><b class="Lblmanual">Load Doc Id</b></label>
                        </div>
                        <div class="col-xs-2" style="padding-left: 0%;width:12.5%;">
                            @Html.TextBoxFor(model => model.load_doc_id, new { @id = "le_load_doc_id", @class = "form-control txtlbl", @maxlength = "10", @disabled = "true" })
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;text-align: right;margin-top:6px">
                            <label><b class="Lblmanual">SO# From</b></label>
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                            @Html.TextBoxFor(model => model.so_num_from, new { @id = "le_so_num_from", @class = "form-control txtlbl", @maxlength = "30" })
                        </div>
                        <div class="col-xs-3" style="width: 12.5%;text-align: right;margin-top:6px">
                            <label><b class="Lblmanual">SO#To</b></label>
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                            @Html.TextBoxFor(model => model.so_num_to, new { @id = "le_so_num_to", @class = "form-control txtlbl", @maxlength = "10" })
                        </div>
                    </div>
                </div>

                <br />
                <div class="row">
                    <div class="col-xs-12">
                        <div class="col-xs-1" style="width: 12.5%;text-align: right;margin-top:6px">
                            <label><b class="Lblmanual">Batch#</b></label>
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                            @Html.TextBoxFor(model => model.batch_num, new { @id = "le_batch_num", @class = "form-control txtlbl", @maxlength = "30" })
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;text-align: right;margin-top:6px">
                            <label><b class="Lblmanual">Load#</b></label>
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                            @Html.TextBoxFor(model => model.load_number, new { @id = "le_load_num", @class = "form-control txtlbl", @maxlength = "30" })
                        </div>
                    </div>
                </div>
                <br />
                <div class="row">
                    <div class="col-xs-12">
   
                        <div class="col-xs-1" style="width: 12.5%;text-align: right;margin-top:6px">
                            <label><b class="Lblmanual">So Date From </b></label>
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                            @Html.TextBoxFor(model => model.so_dt_from, "{0:MM/dd/yyyy}", new { @id = "le_so_dt_from", @class = "form-control txtlbl", @maxlength = "10" })
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;text-align: right;margin-top:6px">
                            <label><b class="Lblmanual">So Date To</b></label>
                        </div>
                        <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                            @Html.TextBoxFor(model => model.so_dt_to, "{0:MM/dd/yyyy}", new { @id = "le_so_dt_to", @class = "form-control txtlbl", @maxlength = "10" })
                        </div>
                        <div class="col-xs-8" style="width: 50%;padding-bottom: 1%;">
                            <fieldset>
                                <table>
                                    <tr>
                                        <td style="padding-right: 5px;">
                                            <button type="button" id="btnLoadEntrySearch" class="btn_search">Search </button>
                                        </td>
                                        <td style="padding-right: 5px;">
                                            <button type="reset" id="btnClear" class="btn-Clear">Clear </button>
                                        </td>
                                        <td style="padding-right: 5px;">
                                            <button type="button" id="btnSaveLoadEntry" class="btn_NewEntry">Print BOL </button>
                                        </td>

                                        <td style="padding-right: 5px;">
                                            <label for="ChkIncludeBatchPrint" style="font-size:12px;">
                                                <input type="checkbox" id="ChkIncludeBatchPrint"  />
                                                Include Batch Print Also
                                            </label>
                                        </td>

                                    </tr>
                                </table>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</center>
<div id="ShowLoadEntryAll" class="box-header" style="padding: 5px; ">


        <div class="box-body">
            <div class="box-header">
                <fieldset>
                    <legend style="text-align:left;">Load Entry</legend>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Load Number</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.load_number, new { @id = "le_load_number", @class = "form-control txtlbl", @maxlength = "30" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Approved Date</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.load_approve_dt, "{0:MM/dd/yyyy}", new { @id = "le_load_approve_dt", @class = "form-control txtlbl", @maxlength = "10" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">BOL Number</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.bol_number, new { @id = "le_bol_number", @class = "form-control txtlbl", @maxlength = "30" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Special Instructions</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.spcl_inst, new { @id = "le_spcl_inst", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Load Pick Date</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.load_pick_dt, "{0:MM/dd/yyyy}", new { @id = "le_load_pick_dt", @class = "form-control txtlbl", @maxlength = "10" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Carrier Name</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.carrier_name, new { @id = "le_carrier_name", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Trailer Number</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.trailer_num, new { @id = "le_trailer_num", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Seal Number(s)</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.seal_num, new { @id = "le_seal_num", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Note:</label>
                            </div>
                            <div class="col-xs-11" style="width: 87.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.load_note, new { @id = "le_load_note", @class = "form-control txtlbl ", @maxlength = "1000" })
                            </div>
                        </div>
                    </div>
                </fieldset>
              
            </div>
        </div>


    <div id="ShowLoadEntryGrid" class="box-header" style="padding: 5px; ">

        <div class="box-body">
            <div class="box-header">
                <fieldset>
                    <legend style="text-align:left;">  Ship To Address<label class="Lblmanual">&nbsp;&nbsp;  Apply Below Ship To address For all BOL'S</label> <input type="checkbox" id="chkShipToAddr" /> </legend>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Mail Name</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.st_mail_name, new { @id = "le_st_mail_name", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Addr1</label>
                            </div>
                            <div class="col-xs-1" style="width: 25%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.st_addr_line1, new { @id = "le_st_addr_line1", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Addr2</label>
                            </div>
                            <div class="col-xs-1" style="width: 25%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.st_addr_line2, new { @id = "le_st_addr_line2", @class = "form-control txtlbl", @maxlength = "50" })
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">City</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.st_city, new { @id = "le_st_city", @class = "form-control txtlbl", @maxlength = "30" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Country</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.DropDownListFor(model => model.st_cntry_id, new SelectList(Model.ListCntryPick, "Cntry_Id", "Countrydtl"), new {  @class = "form-control txtlbl", @style = "font-weight: bold;font - size: 12px; font-family: verdana; width: 180px;background-color:lightyellow;" })

                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Zipcode</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.st_post_code, new { @id = "le_st_post_code", @class = "form-control txtlbl numericOnly", @maxlength = "25", @onkeypress = "OnlyNumeric(this);" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">State</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.DropDownListFor(model => model.st_state_id, new SelectList(Model.ListStatePick, "State_ID", "statedtl"), new { @id = "le_st_state_id", @class = "form-control txtlbl", @style = "font-weight: bold;font-size: 12px; font-family: verdana; background-color:lightyellow;" })
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="box-body">
            <div class="box-header">
                <fieldset>
                    <legend style="text-align:left;">Total Summary :</legend>
                    <div class="row">
                        <div class="col-xs-12">
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Total Ctns:</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">

                                @Html.TextBoxFor(model => model.tot_ctns, new { @id = "le_tot_ctns", @class = "form-control txtlbl numericOnly", @maxlength = "10" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Total Cube </label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.tot_cube, new { @id = "le_tot_cube", @class = "form-control txtlbl numericOnly", @maxlength = "10", @onkeypress = "OnlyNumeric(this);" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Total Weight </label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.tot_weight, new { @id = "le_tot_weight",  @class = "form-control txtlbl numericOnly", @maxlength = "10", @onkeypress = "OnlyNumeric(this);" })
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;text-align: right;">
                                <label class="Lblmanual">Total Pallet :</label>
                            </div>
                            <div class="col-xs-1" style="width: 12.5%;padding-bottom: 1%;">
                                @Html.TextBoxFor(model => model.tot_palet, new { @id = "le_tot_palet", @class = "form-control txtlbl numericOnly", @maxlength = "10", @onkeypress = "OnlyNumeric(this);" })
                            </div>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        <div class="box-body">
            <div>
                <table id="GrdLoadEntryInq" class="table table-bordered table-striped" style="border:1px solid #121213;">
                    <thead class="grid_backcolor">
                        <tr>
                            <th class="grid_header_backcolor" style="font-size:11px;width:5%;">Select All <input id="chkBOLSelectAll" name="tblBOLCheckboxselect" type="checkbox" /></th>
                            <th class="grid_header_backcolor" style="font-size:11px;width:10%;">Batch#</th>
                            <th class="grid_header_backcolor" style="font-size:11px;width:10%;">SR#</th>
                            <th class="grid_header_backcolor" style="font-size:11px;width:10%;">Cust Order#</th>
                              <th class="grid_header_backcolor" style="font-size:11px;width:10%;">Ctns(s)</th>
                            <th class="grid_header_backcolor" style="font-size:11px;width:10%;">Weight</th>
                            <th class="grid_header_backcolor" style="font-size:11px;width:10%;">Additional Info</th>

                        </tr>
                    </thead>

                    <tbody style="background-color:rgba(0, 0, 0, 0.12);">

                        @for (int i = 0; i < Model.ListOBGetSRSummary.Count; i++)
                    {
                        int line = i + 1;

                        var l_int_ctns = (Model.ListOBGetSRSummary[i].tot_ctns);
                        var l_int_weight = (Model.ListOBGetSRSummary[i].tot_weight);
                        var l_int_cube = (Model.ListOBGetSRSummary[i].tot_cube);



                    <tr style="background-color:white;">
                        @if (Model.single_sr == "Y")
                        {
                            <td style="text-align:center"><input class="checkbox" id="chkBOLLine_@i" name="chkBOLEntry" type="checkbox"  value="@i" /></td>
                            }
                            else
                            {
                            <td style="text-align:center"><input class="checkbox" id="chkIDBOL_@i" name="chkBOLEntry" type="checkbox"   value="@i" /></td>
                            }
                        <td style="font-size:12px; color:black; font-weight:bold;text-align:center;">@Html.TextBoxFor(model => model.ListOBGetSRSummary[i].batch_num, new { @id = "batch_num_" + i, @disabled = "true", @style = "width:150px;text-align:left;background-color:white;", @rowId = @i })</td>
                        <td style="font-size:12px; color:black; font-weight:bold;text-align:center;">@Html.TextBoxFor(model => model.ListOBGetSRSummary[i].so_num, new { @id = "so_num_" + i, @disabled = "true", @style = "width:100px;text-align:left;background-color:white;", @rowId = @i })</td>
                        <td style="font-size:12px; color:black; font-weight:bold;text-align:center;">@Html.TextBoxFor(model => model.ListOBGetSRSummary[i].cust_ordr_num, new { @id = "cust_ordr_num_" + i, @disabled = "true", @style = "width:150px;text-align:left;background-color:white;", @rowId = @i })</td>
                        <td style="font-size:12px; color:black; font-weight:bold;text-align:center;">@Html.TextBoxFor(model => model.ListOBGetSRSummary[i].tot_ctns, new { @class = "AlocQty numericOnly", @id = "tot_ctns_" + i, @style = "width:100px;text-align:right;background-color:lightyellow;", @rowId = @i })</td>
                              <td style="font-size:12px; color:black; font-weight:bold;text-align:center;">@Html.TextBoxFor(model => model.ListOBGetSRSummary[i].tot_weight, new { @class = "AlocQty numericOnly", @id = "tot_weight_" + i, @style = "width:100px;text-align:right;background-color:lightyellow;", @rowId = @i })</td>
                        <td style="font-size:12px; color:black; font-weight:bold;text-align:center;">@Html.TextBoxFor(model => model.ListOBGetSRSummary[i].add_info, new { @id = "add_info_" + i,  @style = "width:300px;text-align:left;background-color:lightyellow;", @rowId = @i })</td>
                        


                    </tr>
                    }
                    </tbody>
                </table>
               
            </div>
        </div>
    </div>
    </div>

<div id="ShowLoadEntryAllChild" class="box-header" style="padding: 5px; ">
    </div>
    <br />

    <div class="modal fade" id="exampleModalLong" tabindex="-1" role="dialog" aria-labelledby="exampleModalLongTitle" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content" style="width: 1050px; height: 650px;">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLongTitle">Modal title</h5>
                    <button type="button" class="close" id="btnclose" style="margin-top: -38px;" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div id="load" class="modal-body">
                </div>
            </div>
        </div>
    </div>
    <script src="~/Scripts/DateTimePicker/jquery.datetimepicker.full.min.js"></script>
    <script src="~/plugins/datatables/jquery.dataTables.min.js"></script>
    <script src="~/plugins/datatables/dataTables.bootstrap.min.js"></script>
    <script>


        debugger

        $(document).ready(function () {
            $("btnClear").each(function () {

                $(this).val("");
            });
        });
        $('#le_so_dt_from').datetimepicker({
            timepicker: false,
            step: 15, format: 'm/d/Y'
        });
        $('#le_so_dt_to').datetimepicker({
            timepicker: false,
            step: 15, format: 'm/d/Y'
        });

        $('#le_load_approve_dt').datetimepicker({
            timepicker: false,
            step: 15, format: 'm/d/Y'
        });

        $('#le_load_pick_dt').datetimepicker({
            timepicker: false,
            step: 15, format: 'm/d/Y'
        });



        $("#btnLoadEntrySearch").click(function () {
            var p_str_cmp_id = $("#le_cmp_id").val();
            if (p_str_cmp_id == "") {

                sweetAlert("", "Please Select the Company", "");
                $('#le_cmp_id').focus();
                $('body,html').animate({ scrollTop: 0 }, 0);
                er = 1;
                return false;
            }
            else {
                debugger


                var p_str_batch_num = $('#le_batch_num').val();
                var p_str_load_number = $('#le_load_num').val();
                if ((p_str_batch_num == "") && (p_str_load_number = "")) {

                    sweetAlert("", "Please enter the Batch Number or Load Number ", "");
                    $('#le_batch_num').focus();
                    $('body,html').animate({ scrollTop: 0 }, 0);
                    er = 1;
                    return false;
                }
                var p_str_so_num_from = $('#le_so_num_from').val();
                var p_str_so_num_to = $('#le_so_num_to').val();
                var p_str_so_dt_from = $('#le_so_dt_from').val();
                var p_str_so_dt_to = $('#le_so_dt_to').val();
                var p_str_load_number = $('#le_load_num').val();

                $("#ajaxLoadingLoadEntry").show();
                $.ajax({
                    type: "GET",
                    url: "/OutboundInq/GetOBSRSummary",
                    data: {
                        "p_str_cmp_id": p_str_cmp_id, "p_str_batch_num": p_str_batch_num, "p_str_so_num_from": p_str_so_num_from,
                        "p_str_so_num_to": p_str_so_num_to, "p_str_so_dt_from": p_str_so_dt_from, "p_str_so_dt_to": p_str_so_dt_to, "p_str_load_number": p_str_load_number
                    },
                    dataType: 'html',
                    success: function (e) {
                        $("#ajaxLoadingLoadEntry").hide();
                        $('#ShowLoadEntryAll').html("");
                        $('#ShowLoadEntryAll').hide();
                        $("#ShowLoadEntryAllChild").show();
                        $('#ShowLoadEntryAllChild').html(e);
                    },
                })

            }
        });


        $("#btnSaveLoadEntry").click(function () {
            debugger;
            var p_str_cmp_id = $('#le_cmp_id').val();
            var p_str_load_doc_id = $('#le_load_doc_id').val();
            var p_str_load_number = $('#le_load_number').val();
            var p_str_load_approve_dt = $('#le_load_approve_dt').val();
            var p_str_load_pick_dt = $('#le_load_pick_dt').val();
            var p_str_print_summary = $('#le_print_summary').val();
            var intRecCount = $('#SRCount').val();
            var totGridCtns = 0;

            var numberOfCheckboxes = $("input[name='chkBOLEntry']:checked").length;
            if (numberOfCheckboxes == 0) {

                sweetAlert("", "Please select the Record to Save Load Entry", "");
                return false;
            }
            else {

                var ListOBBOLDtl = new Array();

                $("input[name='chkBOLEntry']:checked").each(function () {

                    var l_str_is_selected = false;
                 
                    var l_str_is_selected = $(this);
                    if (l_str_is_selected.is(':checked')) {
                        var cmp_id = $("#le_cmp_id").val();
                        var i = l_str_is_selected.val();
                        var batch_num = $("#batch_num_" + i).val();
                        var so_num = $("#so_num_" + i).val();
                        var cust_ordr_num = $("#cust_ordr_num_" + i).val();
                        totGridCtns = totGridCtns + parseInt($("#tot_ctns_" + i).val());

                        var tot_ctns = $("#tot_ctns_" + i).val();
                        var tot_weight = $("#tot_weight_" + i).val();
                        var add_info = $("#add_info_" + i).val();
                        var objOBBOLDtl = {};
                        objOBBOLDtl.cmp_id = cmp_id;
                        objOBBOLDtl.batch_num = batch_num;
                        objOBBOLDtl.so_num = so_num;
                        objOBBOLDtl.cust_ordr_num = cust_ordr_num;
                        objOBBOLDtl.tot_ctns = tot_ctns;
                        objOBBOLDtl.tot_weight = tot_weight;
                        objOBBOLDtl.add_info = add_info;
                        ListOBBOLDtl.push(objOBBOLDtl);

                    }
                });

                var totSmaryCtns = $('#le_tot_ctns').val();

                if (totSmaryCtns != totGridCtns) {
                    swal("", "Total Cartons Not matched", "");
                    return false;
                }
                    debugger;
                    var vOBSRLoadEntryHdr = {};
                    vOBSRLoadEntryHdr.cmp_id = $('#le_cmp_id').val();
                    vOBSRLoadEntryHdr.load_doc_id = p_str_load_doc_id;
                    vOBSRLoadEntryHdr.batch_num = $('#le_batch_num').val();

                    vOBSRLoadEntryHdr.load_number = $('#le_load_number').val();
                    vOBSRLoadEntryHdr.load_approve_dt = $('#le_load_approve_dt').val();
                    vOBSRLoadEntryHdr.bol_number = $('#le_bol_number').val();
                    vOBSRLoadEntryHdr.spcl_inst = $('#le_spcl_inst').val();

                    vOBSRLoadEntryHdr.load_pick_dt = $('#le_load_pick_dt').val();
                    vOBSRLoadEntryHdr.carrier_name = $('#le_carrier_name').val();
                    vOBSRLoadEntryHdr.trailer_num = $('#le_trailer_num').val();
                    vOBSRLoadEntryHdr.seal_num = $('#le_seal_num').val();
                    vOBSRLoadEntryHdr.shipto_id = "-";
                    vOBSRLoadEntryHdr.st_mail_name = $('#le_st_mail_name').val();
                    vOBSRLoadEntryHdr.st_addr_line1 = $('#le_st_addr_line1').val();
                    vOBSRLoadEntryHdr.st_addr_line2 = $('#le_st_addr_line2').val();
                    vOBSRLoadEntryHdr.st_city = $('#le_st_city').val();
                    vOBSRLoadEntryHdr.st_state_id = $('#le_st_state_id').val();
                    vOBSRLoadEntryHdr.st_post_code = $('#le_st_post_code').val();
                    vOBSRLoadEntryHdr.st_cntry_id = $('#st_cntry_id').val();

                    vOBSRLoadEntryHdr.load_note = $('#le_load_note').val();
                    vOBSRLoadEntryHdr.tot_ctns = $('#le_tot_ctns').val();
                    vOBSRLoadEntryHdr.tot_cube = $('#le_tot_cube').val();
                    vOBSRLoadEntryHdr.tot_weight = $('#le_tot_weight').val();
                    vOBSRLoadEntryHdr.tot_palet = $('#le_tot_palet').val();
                    vOBSRLoadEntryHdr.maker = '';
                    vOBSRLoadEntryHdr.maker_dt = '';
                    var objOBSRLoadEntryHdr = new Array();
                    objOBSRLoadEntryHdr.push(vOBSRLoadEntryHdr);



                    $("#ajaxLoadingLoadEntry").show();
                    $.ajax({
                        type: "POST",
                        url: '@Url.Content("~/OutboundInq/SaveTempBOLBatchEntry")',
                        contentType: "application/json; charset=utf-8",
                        data: JSON.stringify({
                            "p_str_cmp_id": p_str_cmp_id,
                            "p_str_load_doc_id": p_str_load_doc_id,
                            "p_str_load_number": p_str_load_number, "p_str_load_approve_dt": p_str_load_approve_dt, "p_str_load_pick_dt": p_str_load_pick_dt, 
                            objOBSRLoadEntryHdr: objOBSRLoadEntryHdr, ListOBBOLDtl: ListOBBOLDtl

                        }),

                        contentType: "application/json; charset=utf-8",
                        dataType: "json",
                        success: function (e) {
                            $("#ajaxLoadingLoadEntry").hide();

                            if (e > 0) {
                                swal({
                                    title: "",
                                    text: "No Records to Save",
                                    type: "",
                                    showCancelButton: false,
                                    confirmButtonClass: "btn-danger",
                                    confirmButtonText: "Ok",
                                    closeOnConfirm: true
                                });
                            }

                            else {
                                debugger
                                swal({
                                    title: "",
                                    text: "BOL Print Record Saved successfully.",
                                    type: "",
                                    showCancelButton: false,
                                    confirmButtonClass: "btn-danger",
                                    confirmButtonText: "Ok",
                                    closeOnConfirm: true
                                },

                                function () {
                                    debugger
                                    var p_str_cmp_id = $("#le_cmp_id").val();
                                    var p_str_load_number = $('#le_load_number').val();
                                    var p_str_load_doc_id = $('#le_load_doc_id').val();
                                    if (p_str_print_summary == 'S') {
                                        var p_str_is_same_ship_to = 'Y';
                                    }
                                    else {
                                        if (chkShipToAddr.checked) {
                                            var p_str_is_same_ship_to = 'Y';
                                        }
                                        else {
                                            var p_str_is_same_ship_to = 'N';
                                        }

                                        if (ChkIncludeBatchPrint.checked) {
                                            var IncludeBatchPrint = 'Y';
                                        }
                                        else {
                                            var IncludeBatchPrint = 'N';
                                        }

                                    }
                                    $("#ajaxLoadingshipreq").show();

                                    window.open('BOLBatchRpt?p_str_cmp_id=' + p_str_cmp_id + '&p_str_load_doc_id=' + p_str_load_doc_id + '&p_str_is_same_ship_to=' + p_str_is_same_ship_to + '&p_str_print_summary=' + p_str_print_summary + '&p_str_incld_batch_print=' + IncludeBatchPrint, 'OutboundInq', "toolbar=no, scrollbars=yes, resizable=yes, top=200, left=500, width=950, height=700", 'BOLBatchRpt')
                                    $("#ajaxLoadingLoadEntry").hide();
                                    $('#ModalclsLoadEntry').modal('hide');
                                    $('#ModalLoadEntry').modal('hide');

                                }
                              );

                            }

                        },
                        error: function () {
                            alert("Dynamic content load failed.");
                            $("#ajaxLoadingLoadEntry").hide();
                        }
                    });

               
            }

        });




        $("#btnLoadEntryClose").click(function () {

            debugger
            sweetAlert({
                title: "",
                text: "Do you want to Close the Screen?",
                type: "",
                showCancelButton: true,
                confirmButtonClass: "btn-danger",
                confirmButtonText: "Yes",
                cancelButtonText: "No",
                closeOnConfirm: true,
                closeOnCancel: true
            },
                   function (isConfirm) {
                       if (isConfirm) {
                           $('#ModalLoadEntry').modal('hide');
                       }
                   });
        });





        $("input[name='chkBOLEntry']").click(function () {

            if ($("input[name='chkBOLEntry']").length == $("input[name='chkBOLEntry']:checked").length) {
                $("#chkAll").prop("checked", true);
            }
            else {
                $("#chkAll").prop("checked", false);
            }

        });

    </script>

    <script>

        $('#chkBOLSelectAll').click(function (event) {
            if ($(this).is(":checked")) {
                $('.checkbox').each(function () {
                    $(this).prop("checked", true);
                });
            }
            else {
                $('.checkbox').each(function () {
                    $(this).prop("checked", false);
                });
            }
        });

        $(document).ready(function () {
            var p_str_print_summary = $('#le_print_summary').val();

            if (p_str_print_summary == 'Y') {
                document.getElementById("btnSaveLoadEntry").innerHTML = "Print BOL - Summary ";
            }
            else if (p_str_print_summary == 'S') {
                document.getElementById("btnSaveLoadEntry").innerHTML = "Print BOL - Single";
            }
            else {
                document.getElementById("btnSaveLoadEntry").innerHTML = "Print BOL - Batch";
            }

        });

    </script>
<script>
    $('#st_cntry_id').on('change', function () {
        debugger
        var countryid = $(this).find(":selected").val();

        $.ajax({
            type: "POST",
            url: '@Url.Content("~/OutboundInq/CountryChange")',
            data: '{countryid: "' + countryid + '" }',
            contentType: "application/json; charset=utf-8",
            dataType: "json",

            success: function (r) {
                var Cntryid = $('#ListStatePick');
                Cntryid.empty();
                $.each(r.ListStatePick, function (key, value) {
                    Cntryid.append('<option value=' + value.State_ID + '>' + value.statedtl + '</option>');
                });

            },
            failure: function (response) {
                alert(response.responseText);

            },
            error: function (response) {
                alert(response.responseText);

            }
        });


    });
</script>