@model GsEPWv8_5_MVC.Model.RateMasterModel
@{
}
<style type="text/css">
    .Ratecontainer {
        max-width: 256%;
        margin-left: auto;
        margin-right: auto;
        padding: 1em;
    }
</style>
<div class="box-body">
    <div class="box-header">
        <div class="row">
            <div class="col-xs-12">
                <div class="col-xs-1" style="text-align: right; margin-top: 6px; font-size:12px;width: 120px;">
                    <label><b class="Lblmanual">Cmp Id:</b></label>
                </div>
                <div class="col-xs-2" style="margin-left: -20px;width:38%;">
                    @Html.DropDownListFor(model => model.cmp_id, new SelectList(Model.ListCompanyPickDtl, "cmp_id", "cmp_name"), new { @class = "form-control txtlbl", @style = "width:125%;background-color:lightyellow;" })
                </div>
            </div>
        </div>
        <br/>

                <div class="row">
                    <div class="col-xs-12">
                        <div class="col-xs-1" style="text-align:right;margin-top:6px;font-size:12px;width: 131px;margin-left:-10px;">
                            <label><b class="Lblmanual">Rate Type:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -28px;">
                            @Html.DropDownListFor(model => model.type, new SelectList(Model.ListLookUpDtl, "name", "description"), new { @id = "ps_type", @class = "form-control txtlbl", @style = "width:150px;" })

                        </div>
                        <div class="col-xs-1" style="text-align:right;margin-top:6px;font-size:12px;width: 120px;margin-left: -2px;">
                            <label id="lblcatg"><b class="Lblmanual">Category:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -23px;">
                            @Html.DropDownListFor(model => model.catg, new SelectList(Model.ListLookUpCategoryDtl, "name", "description"), new { @class = "form-control txtlbl", @style = "width:138px;" })
                        </div>
                    </div>
                </div>
                <br />
        <br />
                <div class="row">
                    <div class="col-xs-12" style="margin-top: -8px;">
                        <div class="col-xs-1" style="text-align:right;margin-top:6px;font-size:12px;width: 131px;margin-left:-10px;">
                            <label><b class="Lblmanual">Status:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -28px;">
                            @Html.DropDownListFor(model => model.status, new SelectList(Model.ListLookUpStatusDtl, "name", "description"), new { @class = "form-control txtlbl", @style = "width:125px;" })
                        </div>
                        <div class=" col-xs-1" style="text-align:right;margin-top:6px;font-size:12px;width: 120px;margin-left: -13px;">
                            <label><b class="Lblmanual">Rate Id:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -23px;">
                            @Html.TextBoxFor(model => model.itm_num, new { @class = "form-control txtlbl VLDTITMFILD", @maxlength = "20", @style = "background-color:lightyellow;" })
                        </div>
                        <div class="col-xs-1" style="text-align:right;margin-top:6px;font-size:12px;width: 120px;margin-left: -13px;">
                            <label><b class="Lblmanual">Rate Desc:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -23px;">
                            @Html.TextBoxFor(model => model.itm_name, new { @id = "ps_itm_name", @class = "form-control txtlbl VLDTITMFILD", @maxlength = "75", @style = "width:200%" })
                        </div>
                    </div>
                </div>
                <br />
        <br />
                <div class="row">
                    <div class="col-xs-12" style="margin-top: -8px;">
                        <div class="col-xs-1" style="text-align: right;  margin-top: 6px;font-size:12px;width: 120px;">
                            <label><b class="Lblmanual">List Price:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -22px;">
                            @Html.TextBoxFor(model => model.list_price, new { @class = "form-control txtlbl", @maxlength = "50", @style = "width:250px;" })
                        </div>
                        <div class="col-xs-1" style="text-align: right;  margin-top: 6px;font-size:12px;width: 120px;margin-left:70px;">
                            <label><b class="Lblmanual">Price UoM:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -22px;">
                            @Html.DropDownListFor(model => model.price_uom, new SelectList(Model.ListPriceuom, "uom_id", "uom_id"), new { @class = "form-control txtlbl", @style = "width:250px;background-color:lightyellow;" })
                        </div>
                    </div>
                </div>
                <br />
        <br />
                <div class="row">
                    <div class="col-xs-12" style="margin-top: -8px;">
                        <div class="col-xs-1" style="text-align: right; margin-top: 6px;font-size:12px;width: 131px;margin-left:-10px;">
                            <label><b class="Lblmanual">Rate Dt:</b></label>
                        </div>
                        <div class="col-xs-2" style="margin-left: -23px;">
                            @Html.TextBoxFor(model => model.last_so_dt, new { @class = "form-control txtlbl", placeholder = "MM/DD/YYYY", @maxlength = "50", @style = "width:180px;background-color:lightyellow;" })
                        </div>

                    </div>
                </div>
        <br />
        <div class="row" id="divAutoIBS">
            <div class="col-xs-12" style="margin-top: -8px;">
       
                <div class="col-xs-2" style="text-align: right;  margin-top: 6px;font-size:12px;width: 200px;">
                    <label><b class="Lblmanual">Is Auto IBS Entry</b></label>
                </div>

                <div class="col-xs-1" style="text-align: right; margin-top: 6px;font-size:12px;width:50px;">
                    @Html.CheckBoxFor(model => model.is_auto_ibs, new { @id = "add_is_auto_ibs", @style = "background-color:lightyellow;" }) 
                    </div>

                    <div class="col-xs-1" style="text-align: right;  margin-top: 6px;font-size:12px;width: 120px;margin-left:70px;">
                        <label><b class="Lblmanual">IBS Unit </b></label>
                    </div>

                    <div class="col-xs-2" style="margin-left: -22px;">
                        @Html.DropDownListFor(model => model.ibs_unit, new SelectList(Model.ListIBSUnit, "name", "description"), new { @id = "add_ibs_unit", @class = "form-control txtlbl", @style = "width:250px;background-color:lightyellow;" })
                    </div>
                </div>

        </div>
        <br />

       </div>

</div>

<script type="text/javascript">
    $('#last_so_dt').datetimepicker({
        timepicker: false,
        step: 15, format: 'Y-m-d'
    });
    $('#list_price').val("");



    $(function () {
        $('#ps_type').on('change', function () {
            debugger;
            var id = $(this).find(":selected").val();
            $("#ajaxLoading").show();
            $.ajax({
                type: "POST",
                url: '@Url.Content("~/RateMaster/TypeChange")',
                data: '{id: "' + id + '" }',
                contentType: "application/json; charset=utf-8",
                dataType: "json",

                //Ravi Below Code
                success: function (r) {
                    $("#ajaxLoading").hide();
                    //alert("Success :" + r.length)
                    var Getcatgdetail = $('#catg');
                    Getcatgdetail.empty();
                    $.each(r.ListLookUpCategoryDtl, function (key, value) {

                        Getcatgdetail.append('<option value=' + value.name + '>' + value.description + '</option>');
                    });
                   
                    if (id != 'VAS') {
                        document.getElementById('lblcatg').innerHTML = 'Bill For :';
                        

                    }
                    else {
                        document.getElementById('lblcatg').innerHTML = 'Category:';
                    }
                    debugger;
                    if (id == 'IBS')
                    {
   
                        document.getElementById("divAutoIBS").removeAttribute("hidden");
                    }
                    else
                    {
                        document.getElementById("divAutoIBS").setAttribute("hidden", "");
                    }

                    },

                failure: function (response) {
                    alert(response.responseText);
                },
                error: function (response) {
                    alert(response.responseText);
                }
            });

        });

    });
    $(document).ready(function () {
        $('.VLDTITMFILD').keyup(function () {
            $(this).val($(this).val().toUpperCase());
        });
        document.getElementById("divAutoIBS").setAttribute("hidden", "");
    });
    
</script>

